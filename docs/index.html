<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NeuroSphere Interactive Story</title>
  <!-- Tailwind CSS via CDN for quick styling -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <!-- React and ReactDOM via CDN -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
</head>
<body class="bg-gray-100 text-gray-800 font-sans">
  <div id="root" class="min-h-screen flex items-center justify-center"></div>

  <script type="text/javascript">
    function InteractiveStoryApp() {
      const [sceneId, setSceneId] = React.useState('start');

      // Define the story structure. Each scene has text and an array of choices.
      const scenes = {
        start: {
          text: 'Добро пожаловать в интерактивную историю NeuroSphere! В этом приключении каждое ваше решение влияет на сюжет. Готовы начать?',
          choices: [
            { label: 'Начать приключение', next: 'forest' }
          ]
        },
        forest: {
          text: 'Вы оказываетесь в загадочном лесу. Вокруг шепчутся деревья, а вдалеке видна мерцающая тропинка. Что вы сделаете?',
          choices: [
            { label: 'Пойти по светлой тропинке', next: 'cottage' },
            { label: 'Исследовать тёмную пещеру', next: 'cave' }
          ]
        },
        cottage: {
          text: 'Вы следуете по тропинке и выходите к уютному домику. Из трубы поднимается дымок. Что дальше?',
          choices: [
            { label: 'Постучать в дверь', next: 'witch' },
            { label: 'Заглянуть в окно', next: 'window' }
          ]
        },
        cave: {
          text: 'Вы заходите в тёмную пещеру. Ваши шаги эхом отдаются в глубине. Вдали слышны странные звуки. Что вы выберете?',
          choices: [
            { label: 'Продвинуться к звукам', next: 'monster' },
            { label: 'Вернуться обратно', next: 'forestReturn' }
          ]
        },
        witch: {
          text: 'Дверь открывает старушка‑ведьма. Она улыбается и приглашает вас войти. Она предлагает вам волшебное зелье. Что вы сделаете?',
          choices: [
            { label: 'Принять зелье', next: 'fly' },
            { label: 'Вежливо отказаться', next: 'escape' }
          ]
        },
        window: {
          text: 'Вы заглядываете в окно и видите стол, накрытый на ужин. Но внезапно окно распахивается, и вас втягивает внутрь! Вы встречаете дружелюбного кота, который просит о помощи. Что вы сделаете?',
          choices: [
            { label: 'Помочь коту найти хозяина', next: 'catHelp' },
            { label: 'Попросить кота помочь вам выбраться', next: 'escape' }
          ]
        },
        monster: {
          text: 'Вы смело идёте к звукам и встречаете огромного, но плачущего монстра. Он выглядит добродушно и говорит, что потерял свой амулет. Что вы сделаете?',
          choices: [
            { label: 'Помочь монстру найти амулет', next: 'monsterHelp' },
            { label: 'Попробовать украсть амулет', next: 'steal' }
          ]
        },
        forestReturn: {
          text: 'Вы решаете вернуться в лес. Теперь тропинка кажется менее страшной. Вы заметили блеск на земле. Что вы делаете?',
          choices: [
            { label: 'Поднять блеск', next: 'findAmulet' },
            { label: 'Игнорировать и следовать дальше', next: 'forest' }
          ]
        },
        fly: {
          text: 'Выпив зелье, вы обретаете способность летать! Вы парите над лесом и видите все его тайны. Это был счастливый конец вашего приключения.',
          choices: [
            { label: 'Сыграть снова', next: 'start' }
          ]
        },
        escape: {
          text: 'Вы вежливо отказываетесь и покидаете домик. Приключение заканчивается безопасным возвращением домой.',
          choices: [
            { label: 'Начать сначала', next: 'start' }
          ]
        },
        catHelp: {
          text: 'Вы соглашаетесь помочь коту найти хозяина. В благодарность кот дарит вам ключ от сокровищницы. Вы открываете её и находите чудесные драгоценности! Поздравляем!',
          choices: [
            { label: 'Сыграть ещё раз', next: 'start' }
          ]
        },
        monsterHelp: {
          text: 'Вы помогаете монстру найти амулет. Оказавшись благодарным, он провожает вас к выходу, даруя магический амулет, который приносит удачу.',
          choices: [
            { label: 'Начать новое приключение', next: 'start' }
          ]
        },
        steal: {
          text: 'Вы пытаетесь украсть амулет, но монстр замечает и прогоняет вас. Вы оказываетеcь обратно в лесу, пока ещё целы. Лучше начать всё сначала.',
          choices: [
            { label: 'Попробовать снова', next: 'start' }
          ]
        },
        findAmulet: {
          text: 'Вы поднимаете блеск и видите, что это амулет! Вы находите владельца монстра, который радуется и дарует вам сокровища. Конец.',
          choices: [
            { label: 'Сыграть ещё раз', next: 'start' }
          ]
        }
      };

      // Render the current scene
      const scene = scenes[sceneId];

      return (
        React.createElement('div', { className: 'bg-white rounded-3xl shadow-2xl p-8 max-w-lg w-full' },
          React.createElement('h1', { className: 'text-3xl font-bold mb-4 text-center' }, 'NeuroSphere Story'),
          React.createElement('p', { className: 'mb-6 text-lg leading-relaxed' }, scene.text),
          React.createElement('div', { className: 'flex flex-col gap-4' },
            scene.choices.map((choice, idx) =>
              React.createElement('button', {
                key: idx,
                className: 'bg-gradient-to-r from-purple-500 to-indigo-600 hover:from-purple-600 hover:to-indigo-700 text-white font-semibold py-3 px-4 rounded-xl transition-colors',
                onClick: () => setSceneId(choice.next)
              }, choice.label)
            )
          )
        )
      );
    }

    // Render the app
    ReactDOM.createRoot(document.getElementById('root')).render(React.createElement(InteractiveStoryApp));
  </script>
</body>
</html>
